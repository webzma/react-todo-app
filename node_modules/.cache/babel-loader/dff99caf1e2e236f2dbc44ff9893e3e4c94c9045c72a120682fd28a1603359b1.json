{"ast":null,"code":"import _slicedToArray from\"/home/webzma/dev/todo-app-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";function useLocalStorage(itemName,initialValue){var _React$useState=React.useState(initialValue),_React$useState2=_slicedToArray(_React$useState,2),item=_React$useState2[0],setItem=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];var _React$useState5=React.useState(true),_React$useState6=_slicedToArray(_React$useState5,2),loading=_React$useState6[0],setLoading=_React$useState6[1];React.useEffect(function(){setTimeout(function(){try{var localStorageItem=localStorage.getItem(itemName);var parsedItem;if(!localStorageItem){localStorage.setItem(itemName,JSON.stringify(initialValue));parsedItem=initialValue;}else{parsedItem=JSON.parse(localStorageItem);setItem(parsedItem);}setLoading(false);}catch(err){setLoading(false);setError(true);}},1000);},[]);//ESTA FUNCIÓN SE ENCARGA DE PERSISTIR Y GUARDAR LAS TAREAS EN EL ESTADO Y LOCALSTORAGE\nfunction saveItem(newItem){localStorage.setItem('TODOS_V1',JSON.stringify(newItem));setItem(newItem);}return{item:item,saveItem:saveItem,error:error,loading:loading};}export{useLocalStorage};","map":{"version":3,"names":["React","useLocalStorage","itemName","initialValue","useState","item","setItem","error","setError","loading","setLoading","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","err","saveItem","newItem"],"sources":["/home/webzma/dev/todo-app-react/src/components/App/useLocalStorage.js"],"sourcesContent":["import React from \"react\";\n\nfunction useLocalStorage(itemName, initialValue) {\n   const [item, setItem] = React.useState(initialValue);\n   const [error, setError] = React.useState(false);\n   const [loading, setLoading] = React.useState(true);\n\n   React.useEffect(() => {\n      setTimeout(() => {\n         try {\n            const localStorageItem = localStorage.getItem(itemName);\n\n            let parsedItem;\n\n            if (!localStorageItem) {\n               localStorage.setItem(itemName, JSON.stringify(initialValue));\n               parsedItem = initialValue;\n            } else {\n               parsedItem = JSON.parse(localStorageItem);\n               setItem(parsedItem);\n            }\n\n            setLoading(false);\n         } catch (err) {\n            setLoading(false);\n            setError(true);\n         }\n      }, 1000);\n   }, []);\n\n\n   //ESTA FUNCIÓN SE ENCARGA DE PERSISTIR Y GUARDAR LAS TAREAS EN EL ESTADO Y LOCALSTORAGE\n   function saveItem(newItem) {\n      localStorage.setItem('TODOS_V1', JSON.stringify(newItem));\n      setItem(newItem);\n   }\n\n   return { item, saveItem, error, loading };\n}\n\nexport { useLocalStorage };"],"mappings":"qHAAA,MAAOA,MAAK,KAAM,OAAO,CAEzB,QAASC,gBAAe,CAACC,QAAQ,CAAEC,YAAY,CAAE,CAC9C,oBAAwBH,KAAK,CAACI,QAAQ,CAACD,YAAY,CAAC,oDAA7CE,IAAI,qBAAEC,OAAO,qBACpB,qBAA0BN,KAAK,CAACI,QAAQ,CAAC,KAAK,CAAC,qDAAxCG,KAAK,qBAAEC,QAAQ,qBACtB,qBAA8BR,KAAK,CAACI,QAAQ,CAAC,IAAI,CAAC,qDAA3CK,OAAO,qBAAEC,UAAU,qBAE1BV,KAAK,CAACW,SAAS,CAAC,UAAM,CACnBC,UAAU,CAAC,UAAM,CACd,GAAI,CACD,GAAMC,iBAAgB,CAAGC,YAAY,CAACC,OAAO,CAACb,QAAQ,CAAC,CAEvD,GAAIc,WAAU,CAEd,GAAI,CAACH,gBAAgB,CAAE,CACpBC,YAAY,CAACR,OAAO,CAACJ,QAAQ,CAAEe,IAAI,CAACC,SAAS,CAACf,YAAY,CAAC,CAAC,CAC5Da,UAAU,CAAGb,YAAY,CAC5B,CAAC,IAAM,CACJa,UAAU,CAAGC,IAAI,CAACE,KAAK,CAACN,gBAAgB,CAAC,CACzCP,OAAO,CAACU,UAAU,CAAC,CACtB,CAEAN,UAAU,CAAC,KAAK,CAAC,CACpB,CAAE,MAAOU,GAAG,CAAE,CACXV,UAAU,CAAC,KAAK,CAAC,CACjBF,QAAQ,CAAC,IAAI,CAAC,CACjB,CACH,CAAC,CAAE,IAAI,CAAC,CACX,CAAC,CAAE,EAAE,CAAC,CAGN;AACA,QAASa,SAAQ,CAACC,OAAO,CAAE,CACxBR,YAAY,CAACR,OAAO,CAAC,UAAU,CAAEW,IAAI,CAACC,SAAS,CAACI,OAAO,CAAC,CAAC,CACzDhB,OAAO,CAACgB,OAAO,CAAC,CACnB,CAEA,MAAO,CAAEjB,IAAI,CAAJA,IAAI,CAAEgB,QAAQ,CAARA,QAAQ,CAAEd,KAAK,CAALA,KAAK,CAAEE,OAAO,CAAPA,OAAQ,CAAC,CAC5C,CAEA,OAASR,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}